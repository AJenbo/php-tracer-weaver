#!/usr/bin/env php
<?php

use Symfony\Component\Console\Application;
use PHPTracerWeaver\Command\WeaveCommand;

require __DIR__ . '/../src/bootstrap.php';

if (PHP_SAPI !== 'cli') {
    echo 'Warning: PHPTracerWeaver should be invoked via the CLI version of PHP, not the ' . PHP_SAPI . ' SAPI'
        . PHP_EOL;
}

$application = new Application();
$application->setName('PHP Trace Weaver');
$application->setVersion('dev'); // TODO get tag/commit

$application->add(new WeaveCommand());

$application->run();
